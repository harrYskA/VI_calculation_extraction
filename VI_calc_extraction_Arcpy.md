# VI_calculation_extraction

# -*- coding: utf-8 -*-
"""
Generated by ArcGIS ModelBuilder on : 2023-04-30 23:22:50
"""
import arcpy

def Model():  # Environment creation

    # To allow overwriting outputs change overwriteOutput option to True.
    arcpy.env.overwriteOutput = True

    Folder_Location = "E:\Pea_Extracted\Prosper\FFAR_Final"
    Folder_Name = "TP_0807"

    # Process: Create Folder (Create Folder) (management)
    Prosp_FFAR_0807 = arcpy.management.CreateFolder(out_folder_path=Folder_Location, out_name=Folder_Name)[0]

    # Process: Create File Geodatabase (Create File Geodatabase) (management)
    Prosp_FFAR_Extract_0807_gdb = arcpy.management.CreateFileGDB(out_folder_path=Prosp_FFAR_0807, out_name="TP_0807", out_version="CURRENT")[0]

if __name__ == '__main__':
    # Global Environment settings
    with arcpy.EnvManager(scratchWorkspace=r"E:\Pea_Extracted\Prosper\FFAR_Final\TP_0807\FFAR_0807.gdb", workspace=r"E:\Pea_Extracted\Prosper\FFAR_Final\TP_0807\FFAR_0807.gdb"):
        Model()



# -*- coding: utf-8 -*-
"""
Generated by ArcGIS ModelBuilder on : 2023-04-30 23:29:07
"""
import arcpy
from arcpy.ia import *
from arcpy.ia import *
from sys import argv

def Model4(Band_1="E:\\a_PROSPER\\0807.tif\\Band_1", 
           Band_2="E:\\a_PROSPER\\0807.tif\\Band_2", 
           Band_3="E:\\a_PROSPER\\0807.tif\\Band_3", 
           ROI_shp="E:\\Pea_Extracted\\Prosper\\Prosper_FFAR_0807_output\\Pros_FFAR-0807.shp"):  # Full model

    # To allow overwriting outputs change overwriteOutput option to True.
    arcpy.env.overwriteOutput = True


    # Process: Float (Green) (Float) (ia)
    Green_Band_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Green_Band.tif"
    Float_Green_ = Green_Band_tif
    Green_Band_tif = arcpy.ia.Float(in_raster_or_constant=Band_2)
    Green_Band_tif.save(Float_Green_)


    # Process: Float (Red) (Float) (ia)
    Red_Band_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Red_Band.tif"
    Float_Red_ = Red_Band_tif
    Red_Band_tif = arcpy.ia.Float(in_raster_or_constant=Band_1)
    Red_Band_tif.save(Float_Red_)


    # Process: Float (Blue) (Float) (ia)
    Blue_Band_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Blue_Band.tif"
    Float_Blue_ = Blue_Band_tif
    Blue_Band_tif = arcpy.ia.Float(in_raster_or_constant=Band_3)
    Blue_Band_tif.save(Float_Blue_)


    # Process: ExG_raw (Raster Calculator) (ia)
    ExG_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExG.tif"
    ExG_raw = ExG_tif
    ExG_tif = ( (2 * Green_Band_tif ) - ( Red_Band_tif + Blue_Band_tif ) ) / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif)
    ExG_tif.save(ExG_raw)


    # Process: Threshold (Raster Calculator) (ia)
    ExG_threshold_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExG_threshold.tif"
    Threshold = ExG_threshold_tif
    ExG_threshold_tif =  ExG_tif >= 0.124
    ExG_threshold_tif.save(Threshold)


    # Process: ExG_mask (Raster Calculator) (ia)
    ExG_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExG_plant.tif"
    ExG_mask = ExG_plant_tif
    ExG_plant_tif =  ExG_tif * ExG_threshold_tif
    ExG_plant_tif.save(ExG_mask)


    # Process: Zonal Statistics as Table (Zonal Statistics as Table) (ia)
    Zonal_ExG = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_ExG"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=ExG_plant_tif, out_table=Zonal_ExG, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)

    # Process: GLI_raw (Raster Calculator) (ia)
    GLI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\GLI.tif"
    GLI_raw = GLI_tif
    GLI_tif = ( (2 * Green_Band_tif/( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) -( Blue_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) ) / ( (2 * Green_Band_tif/( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) + ( Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) )  + ( Blue_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) )
    GLI_tif.save(GLI_raw)


    # Process: GLI_mask (Raster Calculator) (ia)
    GLI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\GLI_plant.tif"
    GLI_mask = GLI_plant_tif
    GLI_plant_tif =  GLI_tif * ExG_threshold_tif
    GLI_plant_tif.save(GLI_mask)


    # Process: Zonal Statistics as Table (2) (Zonal Statistics as Table) (ia)
    Zonal_GLI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_GLI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=GLI_plant_tif, out_table=Zonal_GLI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: VARI_raw (Raster Calculator) (ia)
    VARI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\VARI.tif"
    VARI_raw = VARI_tif
    VARI_tif = ( (Green_Band_tif/ (Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Red_Band_tif/ (Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) ) / ( ( Green_Band_tif/ (Red_Band_tif + Green_Band_tif  + Blue_Band_tif ) ) + ( Red_Band_tif/ (Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) + ( Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) )
    VARI_tif.save(VARI_raw)


    # Process: VARI_mask (Raster Calculator) (ia)
    VARI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\VARI_plant.tif"
    VARI_mask = VARI_plant_tif
    VARI_plant_tif =  VARI_tif * ExG_threshold_tif
    VARI_plant_tif.save(VARI_mask)


    # Process: Zonal Statistics as Table (3) (Zonal Statistics as Table) (ia)
    Zonal_VARI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_VARI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=VARI_plant_tif, out_table=Zonal_VARI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: WI_raw (Raster Calculator) (ia)
    WI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\WI.tif"
    WI_raw = WI_tif
    WI_tif = ( ( Green_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) - (Blue_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) ) / ( ( Red_Band_tif/ ( Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) - ( Green_Band_tif / (Red_Band_tif + Green_Band_tif + Blue_Band_tif)  ) )
    WI_tif.save(WI_raw)


    # Process: WI_mask (Raster Calculator) (ia)
    WI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\WI_plant.tif"
    WI_mask = WI_plant_tif
    WI_plant_tif =  WI_tif * ExG_threshold_tif
    WI_plant_tif.save(WI_mask)


    # Process: Zonal Statistics as Table (4) (Zonal Statistics as Table) (ia)
    Zonal_WI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_WI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=WI_plant_tif, out_table=Zonal_WI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)

    # Process: NGRDI_raw (Raster Calculator) (ia)
    NGRDI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\NGRDI.tif"
    NGRDI_raw = NGRDI_tif
    NGRDI_tif = ( (Green_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) - ( Red_Band_tif / (Red_Band_tif + Green_Band_tif  + Blue_Band_tif ) ) ) / ( (Green_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) + ( Red_Band_tif / (Red_Band_tif + Green_Band_tif  + Blue_Band_tif ) ) )
    NGRDI_tif.save(NGRDI_raw)


    # Process: NGRDI_mask (Raster Calculator) (ia)
    NGRDI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\NGRDI_plant.tif"
    NGRDI_mask = NGRDI_plant_tif
    NGRDI_plant_tif =  NGRDI_tif * ExG_threshold_tif
    NGRDI_plant_tif.save(NGRDI_mask)


    # Process: Zonal Statistics as Table (5) (Zonal Statistics as Table) (ia)
    Zonal_NGRDI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_NGRDI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=NGRDI_plant_tif, out_table=Zonal_NGRDI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: NRGBVI_raw (Raster Calculator) (ia)
    NRGBVI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\NRGBVI.tif"
    NRGBVI_raw = NRGBVI_tif
    NRGBVI_tif = ( ( ( Green_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) * ( Green_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) ) - ( ( Red_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) * ( Blue_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) ) ) / ( ( ( Green_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) * ( Green_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) ) + ( ( Red_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) * ( Blue_Band_tif / (Red_Band_tif +Green_Band_tif  +Blue_Band_tif ) ) ) )
    NRGBVI_tif.save(NRGBVI_raw)


    # Process: NRGBVI_mask (Raster Calculator) (ia)
    NRGBVI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\NRGBVI_plant.tif"
    NRGBVI_mask = NRGBVI_plant_tif
    NRGBVI_plant_tif =  NRGBVI_tif * ExG_threshold_tif
    NRGBVI_plant_tif.save(NRGBVI_mask)


    # Process: Zonal Statistics as Table (6) (Zonal Statistics as Table) (ia)
    Zonal_NRGBVI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_NRGBVI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=NRGBVI_plant_tif, out_table=Zonal_NRGBVI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: CIVE_raw (Raster Calculator) (ia)
    CIVE_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\CIVE.tif"
    CIVE_raw = CIVE_tif
    CIVE_tif = ( 0.441 * Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( 0.811 * Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) + ( 0.385 * Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) + 18.78745
    CIVE_tif.save(CIVE_raw)


    # Process: CIVE_mask (Raster Calculator) (ia)
    CIVE_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\CIVE_plant.tif"
    CIVE_mask = CIVE_plant_tif
    CIVE_plant_tif =  CIVE_tif * ExG_threshold_tif
    CIVE_plant_tif.save(CIVE_mask)


    # Process: Zonal Statistics as Table (7) (Zonal Statistics as Table) (ia)
    Zonal_CIVE = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_CIVE"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=CIVE_plant_tif, out_table=Zonal_CIVE, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: ExR_raw (Raster Calculator) (ia)
    ExR_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExR.tif"
    ExR_raw = ExR_tif
    ExR_tif = ( 1.4 *  Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) )
    ExR_tif.save(ExR_raw)


    # Process: ExR_mask (Raster Calculator) (ia)
    ExR_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExR_plant.tif"
    ExR_mask = ExR_plant_tif
    ExR_plant_tif =  ExR_tif * ExG_threshold_tif
    ExR_plant_tif.save(ExR_mask)


    # Process: Zonal Statistics as Table (8) (Zonal Statistics as Table) (ia)
    Zonal_ExR = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_ExR"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=ExR_plant_tif, out_table=Zonal_ExR, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: IKAW_raw (Raster Calculator) (ia)
    IKAW_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\IKAW.tif"
    IKAW_raw = IKAW_tif
    IKAW_tif = ( Red_Band_tif - Blue_Band_tif ) / ( Red_Band_tif + Blue_Band_tif )
    IKAW_tif.save(IKAW_raw)


    # Process: IKAW_mask (Raster Calculator) (ia)
    IKAW_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\IKAW_plant.tif"
    IKAW_mask = IKAW_plant_tif
    IKAW_plant_tif =  IKAW_tif * ExG_threshold_tif
    IKAW_plant_tif.save(IKAW_mask)


    # Process: Zonal Statistics as Table (9) (Zonal Statistics as Table) (ia)
    Zonal_IKAW = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_IKAW"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=IKAW_plant_tif, out_table=Zonal_IKAW, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: SimRGBVI_raw (Raster Calculator) (ia)
    SimRGBVI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\SimRGBVI.tif"
    SimRGBVI_raw = SimRGBVI_tif
    SimRGBVI_tif = ( ( Green_Band_tif * Green_Band_tif ) - ( Red_Band_tif * Blue_Band_tif ) ) / ( ( Green_Band_tif * Green_Band_tif ) + ( Red_Band_tif * Blue_Band_tif ) )
    SimRGBVI_tif.save(SimRGBVI_raw)


    # Process: SimRGBVI_mask (Raster Calculator) (ia)
    SimRGBVI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\SimRGBVI_plant.tif"
    SimRGBVI_mask = SimRGBVI_plant_tif
    SimRGBVI_plant_tif =  SimRGBVI_tif * ExG_threshold_tif
    SimRGBVI_plant_tif.save(SimRGBVI_mask)


    # Process: Zonal Statistics as Table (10) (Zonal Statistics as Table) (ia)
    Zonal_SimRGBVI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_SimRGBVI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=SimRGBVI_plant_tif, out_table=Zonal_SimRGBVI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: ExB_raw (Raster Calculator) (ia)
    ExB_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExB.tif"
    ExB_raw = ExB_tif
    ExB_tif = ( 1.4 * Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) )
    ExB_tif.save(ExB_raw)


    # Process: ExB_mask (Raster Calculator) (ia)
    ExB_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExB_plant.tif"
    ExB_mask = ExB_plant_tif
    ExB_plant_tif =  ExB_tif * ExG_threshold_tif
    ExB_plant_tif.save(ExB_mask)


    # Process: Zonal Statistics as Table (11) (Zonal Statistics as Table) (ia)
    Zonal_ExB = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_ExB"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=ExB_plant_tif, out_table=Zonal_ExB, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: GRVI_raw (Raster Calculator) (ia)
    GRVI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\GRVI.tif"
    GRVI_raw = GRVI_tif
    GRVI_tif = ( ( Green_Band_tif - Red_Band_tif ) ) / ( ( Green_Band_tif + Red_Band_tif ) )
    GRVI_tif.save(GRVI_raw)


    # Process: GRVI_mask (Raster Calculator) (ia)
    GRVI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\GRVI_plant.tif"
    GRVI_mask = GRVI_plant_tif
    GRVI_plant_tif =  GRVI_tif * ExG_threshold_tif
    GRVI_plant_tif.save(GRVI_mask)


    # Process: Zonal Statistics as Table (12) (Zonal Statistics as Table) (ia)
    Zonal_GRVI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_GRVI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=GRVI_plant_tif, out_table=Zonal_GRVI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: MGRVI_raw (Raster Calculator) (ia)
    MGRVI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\MGRVI.tif"
    MGRVI_raw = MGRVI_tif
    MGRVI_tif = ( ( Green_Band_tif * Green_Band_tif ) - ( Red_Band_tif * Red_Band_tif ) ) / ( ( Green_Band_tif * Green_Band_tif ) + ( Red_Band_tif * Red_Band_tif ) )
    MGRVI_tif.save(MGRVI_raw)


    # Process: MGRVI_mask (Raster Calculator) (ia)
    MGRVI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\MGRVI_plant.tif"
    MGRVI_mask = MGRVI_plant_tif
    MGRVI_plant_tif =  MGRVI_tif * ExG_threshold_tif
    MGRVI_plant_tif.save(MGRVI_mask)


    # Process: Zonal Statistics as Table (13) (Zonal Statistics as Table) (ia)
    Zonal_MGRVI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_MGRVI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=MGRVI_plant_tif, out_table=Zonal_MGRVI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: IRG_raw (Raster Calculator) (ia)
    IRG_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\IRG.tif"
    IRG_raw = IRG_tif
    IRG_tif =  ( Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) )
    IRG_tif.save(IRG_raw)


    # Process: IRG_mask (Raster Calculator) (ia)
    IRG_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\IRG_plant.tif"
    IRG_mask = IRG_plant_tif
    IRG_plant_tif =  IRG_tif * ExG_threshold_tif
    IRG_plant_tif.save(IRG_mask)


    # Process: Zonal Statistics as Table (14) (Zonal Statistics as Table) (ia)
    Zonal_IRG = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_IRG"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=IRG_plant_tif, out_table=Zonal_IRG, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: RGRI_raw (Raster Calculator) (ia)
    RGRI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\RGRI.tif"
    RGRI_raw = RGRI_tif
    RGRI_tif = ( Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) / ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) )
    RGRI_tif.save(RGRI_raw)


    # Process: RGRI_mask (Raster Calculator) (ia)
    RGRI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\RGRI_plant.tif"
    RGRI_mask = RGRI_plant_tif
    RGRI_plant_tif =  RGRI_tif * ExG_threshold_tif
    RGRI_plant_tif.save(RGRI_mask)


    # Process: Zonal Statistics as Table (15) (Zonal Statistics as Table) (ia)
    Zonal_RGRI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_RGRI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=RGRI_plant_tif, out_table=Zonal_RGRI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: SHI_raw (Raster Calculator) (ia)
    SHI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\SHI.tif"
    SHI_raw = SHI_tif
    SHI_tif = ( ( 2 *  Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) ) / ( ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) )
    SHI_tif.save(SHI_raw)


    # Process: SHI_mask (Raster Calculator) (ia)
    SHI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\SHI_plant.tif"
    SHI_mask = SHI_plant_tif
    SHI_plant_tif =  SHI_tif * ExG_threshold_tif
    SHI_plant_tif.save(SHI_mask)


    # Process: Zonal Statistics as Table (16) (Zonal Statistics as Table) (ia)
    Zonal_SHI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_SHI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=SHI_plant_tif, out_table=Zonal_SHI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: RI_raw (Raster Calculator) (ia)
    RI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\RI.tif"
    RI_raw = RI_tif
    RI_tif = ( ( Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) ) / ( ( Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) + ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) )
    RI_tif.save(RI_raw)


    # Process: RI_mask (Raster Calculator) (ia)
    RI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\RI_plant.tif"
    RI_mask = RI_plant_tif
    RI_plant_tif =  RI_tif * ExG_threshold_tif
    RI_plant_tif.save(RI_mask)


    # Process: Zonal Statistics as Table (17) (Zonal Statistics as Table) (ia)
    Zonal_RI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_RI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=RI_plant_tif, out_table=Zonal_RI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: HI_raw (Raster Calculator) (ia)
    HI_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\HI.tif"
    HI_raw = HI_tif
    HI_tif = ( ( 2 *  Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - ( Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) ) / ( ( Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) + ( Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) )
    HI_tif.save(HI_raw)


    # Process: HI_mask (Raster Calculator) (ia)
    HI_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\HI_plant.tif"
    HI_mask = HI_plant_tif
    HI_plant_tif =  HI_tif * ExG_threshold_tif
    HI_plant_tif.save(HI_mask)


    # Process: Zonal Statistics as Table (18) (Zonal Statistics as Table) (ia)
    Zonal_HI = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_HI"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=HI_plant_tif, out_table=Zonal_HI, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: MExG_raw (Raster Calculator) (ia)
    MExG_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\MExG.tif"
    MExG_raw = MExG_tif
    MExG_tif = (1.262  * Green_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - (0.884 * Red_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) ) - (0.311 * Blue_Band_tif / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif ) )
    MExG_tif.save(MExG_raw)


    # Process: MExG_mask (Raster Calculator) (ia)
    MExG_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\MExG_plant.tif"
    MExG_mask = MExG_plant_tif
    MExG_plant_tif =  MExG_tif * ExG_threshold_tif
    MExG_plant_tif.save(MExG_mask)


    # Process: Zonal Statistics as Table (19) (Zonal Statistics as Table) (ia)
    Zonal_MExG = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_MExG"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=MExG_plant_tif, out_table=Zonal_MExG, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: VEG_raw (Raster Calculator) (ia)
    VEG_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\VEG.tif"
    VEG_raw = VEG_tif
    VEG_tif =  Green_Band_tif / ( ( Red_Band_tif ^ (0.667) ) * ( Blue_Band_tif ^ (0.333) ) )
    VEG_tif.save(VEG_raw)


    # Process: VEG_mask (Raster Calculator) (ia)
    VEG_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\VEG_plant.tif"
    VEG_mask = VEG_plant_tif
    VEG_plant_tif =  VEG_tif * ExG_threshold_tif
    VEG_plant_tif.save(VEG_mask)


    # Process: Zonal Statistics as Table (20) (Zonal Statistics as Table) (ia)
    Zonal_VEG = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_VEG"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=VEG_plant_tif, out_table=Zonal_VEG, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)


    # Process: ExGR_raw (Raster Calculator) (ia)
    ExGR_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExGR.tif"
    ExGR_raw = ExGR_tif
    ExGR_tif = ( ( ( 2 * Green_Band_tif) - Red_Band_tif - Blue_Band_tif ) - ( ( 1.4 * Red_Band_tif ) - Green_Band_tif ) ) / ( Red_Band_tif + Green_Band_tif + Blue_Band_tif )
    ExGR_tif.save(ExGR_raw)


    # Process: ExGR_mask (Raster Calculator) (ia)
    ExGR_plant_tif = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\ExGR_plant.tif"
    ExGR_mask = ExGR_plant_tif
    ExGR_plant_tif =  ExGR_tif * ExG_threshold_tif
    ExGR_plant_tif.save(ExGR_mask)


    # Process: Zonal Statistics as Table (21) (Zonal Statistics as Table) (ia)
    Zonal_ExGR = "E:\\Pea_Extracted\\Prosper\\FFAR_Final\\TP_0807\\Zonal_ExGR"
    arcpy.ia.ZonalStatisticsAsTable(in_zone_data=ROI_shp, zone_field="newcode_1", in_value_raster=ExGR_plant_tif, out_table=Zonal_ExGR, ignore_nodata="DATA", statistics_type="ALL", process_as_multidimensional="CURRENT_SLICE", percentile_values=[90, 75, 25, 5], percentile_interpolation_type="AUTO_DETECT", circular_calculation="ARITHMETIC", circular_wrap_value=360)



if __name__ == '__main__':
    # Global Environment settings
    with arcpy.EnvManager(scratchWorkspace=r"E:\Pea_Extracted\Prosper\FFAR_Final\TP_0807\FFAR_0807.gdb", workspace=r"E:\Pea_Extracted\Prosper\FFAR_Final\TP_0807\FFAR_0807.gdb"):
        Model4(*argv[1:])
